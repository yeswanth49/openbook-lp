.animationOverlay {
  /* Styles for the main overlay, if any beyond Tailwind fixed/inset/bg */
  /* overflow-hidden is now applied inline in TSX */
  transition: background-color 0.8s cubic-bezier(0.19, 1, 0.22, 1);
}

.skipButton {
  /* Styles for the skip button, if any beyond Tailwind absolute/top/right etc. */
  z-index: 20; /* Ensure skip button is above particles */
}

/* Add white flash transition class */
.whiteFlash {
  background-color: white !important;
  transition: background-color 1s cubic-bezier(0.19, 1, 0.22, 1);
}

.bookAnimationContainer {
  opacity: 0; /* Start hidden before fade-in */
  transition: opacity 0.5s ease-in-out, transform 2.5s cubic-bezier(0.645, 0.045, 0.355, 1); /* Added transform transition */
  transform: scale(1); /* Initial scale */
  position: relative; /* Establish stacking context */
  z-index: 10; /* Ensure book container is above general particles */
  will-change: transform, opacity; /* Optimize for performance */
}

.bookContainerOnTop {
  /* This class was added in TSX to the bookAnimationContainer div */
  /* z-index: 10; already set on .bookAnimationContainer is likely sufficient */
  /* If ParticleBackground component had its own z-index, we'd ensure this is higher */
}

.closeupActive {
  transform: scale(1.3); /* Zoomed-in scale */
}

.zoomActive {
  transform-origin: 67% 50%;
  transform: scale(15) translateZ(0);
  transition: transform 2.5s cubic-bezier(0.19, 1, 0.22, 1);
  filter: blur(0);
  animation: zoomAndBlur 2.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  will-change: transform, filter;
}

@keyframes zoomAndBlur {
  0% { filter: blur(0px); }
  80% { filter: blur(0px); }
  100% { filter: blur(5px); }
}

.fadeIn {
  opacity: 1;
}

.fadeOut {
  opacity: 0;
  transition: opacity 0.3s ease-out; /* Faster fade out to blend with landing page */
}

.bookSvg {
  /* No specific styles needed here unless overriding SVG defaults */
  overflow: visible; /* Ensure transforms outside the initial viewbox are seen */
}

/* Book Cover Styles */
.bookCover {
  transition: transform 1.5s cubic-bezier(0.645, 0.045, 0.355, 1); /* easeInOutCubic for opening */
  will-change: transform; /* Optimize for hardware acceleration */
}

.bookLeftCover {
  transform-origin: 100% 50%; /* Hinge on the right edge of the left cover */
  /* Initial state: closed, on top of the right cover from viewer's perspective if slightly ajar */
}

.bookLeftCoverOpen {
  transform: perspective(1000px) rotateY(120deg);
}

.bookRightCover {
  transform-origin: 0% 50%; /* Hinge on the left edge of the right cover */
}

.bookRightCoverOpen {
  /* This cover opens in the opposite direction */
  transform: perspective(1000px) rotateY(-120deg);
}

/* Page Styles */
.bookPage {
  fill: white;
  stroke: black;
  stroke-width: 0.3px;
  transition: all 1s cubic-bezier(0.645, 0.045, 0.355, 1);
  transform-origin: 155px 150px;
  will-change: transform, opacity;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.2));
}

.bookPageInitial {
  transform: perspective(1500px) rotateY(0deg);
  opacity: 0.3; /* Pages are initially slightly visible */
}

/* Page sequence for zoom-through effect */
.pageZoomThrough1 {
  opacity: 1;
  transform: translateZ(0);
  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
}

.pageZoomThrough2 {
  opacity: 0.8;
  transform: translateZ(20px);
  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
  transition-delay: 0.2s;
}

.pageZoomThrough3 {
  opacity: 0.6;
  transform: translateZ(40px);
  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
  transition-delay: 0.4s;
}

.pageZoomThrough4 {
  opacity: 0.4;
  transform: translateZ(60px);
  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
  transition-delay: 0.6s;
}

.pageZoomThrough5 {
  opacity: 0.2;
  transform: translateZ(80px);
  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
  transition-delay: 0.8s;
}

/* Page flutter animations preserved for reference */
@keyframes flutter1 {
  0% { transform: perspective(1500px) rotateY(5deg); opacity: 1; }
  50% { transform: perspective(1500px) rotateY(-90deg) translateX(-10px); opacity: 1; }
  100% { transform: perspective(1500px) rotateY(-170deg) translateX(-20px); opacity: 0; }
}

@keyframes flutter2 {
  0% { transform: perspective(1500px) rotateY(5deg); opacity: 1; }
  50% { transform: perspective(1500px) rotateY(-85deg) translateX(-8px); opacity: 1; }
  100% { transform: perspective(1500px) rotateY(-165deg) translateX(-18px); opacity: 0; }
}

@keyframes flutter3 {
  0% { transform: perspective(1500px) rotateY(5deg); opacity: 1; }
  50% { transform: perspective(1500px) rotateY(-80deg) translateX(-6px); opacity: 1; }
  100% { transform: perspective(1500px) rotateY(-160deg) translateX(-16px); opacity: 0; }
}

@keyframes flutter4 {
  0% { transform: perspective(1500px) rotateY(5deg); opacity: 1; }
  50% { transform: perspective(1500px) rotateY(-75deg) translateX(-4px); opacity: 1; }
  100% { transform: perspective(1500px) rotateY(-155deg) translateX(-14px); opacity: 0; }
}

@keyframes flutter5 {
  0% { transform: perspective(1500px) rotateY(5deg); opacity: 1; }
  50% { transform: perspective(1500px) rotateY(-70deg) translateX(-2px); opacity: 1; }
  100% { transform: perspective(1500px) rotateY(-150deg) translateX(-12px); opacity: 0; }
}

.bookPageFlutter1 {
  animation: flutter1 0.8s ease-out forwards;
  opacity: 0; /* Start transparent, animation handles fade in/out */
}
.bookPageFlutter2 {
  animation: flutter2 0.8s ease-out forwards;
  opacity: 0;
}
.bookPageFlutter3 {
  animation: flutter3 0.8s ease-out forwards;
  opacity: 0;
}
.bookPageFlutter4 {
  animation: flutter4 0.8s ease-out forwards;
  opacity: 0;
}
.bookPageFlutter5 {
  animation: flutter5 0.8s ease-out forwards;
  opacity: 0;
}

/* Page Content Styles */
.pageLines {
  opacity: 0;
  animation: fadeInAndSkewLines 0.7s ease-out forwards;
}

@keyframes fadeInLines {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInAndSkewLines {
  0% { opacity: 0; transform: skewY(0deg); }
  50% { opacity: 0.7; transform: skewY(-5deg); }
  100% { opacity: 1; transform: skewY(0deg); }
}

/* New zoom-through page content animation */
@keyframes zoomThrough {
  0% { opacity: 0; transform: translateZ(0); }
  30% { opacity: 1; transform: translateZ(30px); }
  70% { opacity: 1; transform: translateZ(70px); }
  100% { opacity: 0; transform: translateZ(100px); }
}

.pageLinesZoomThrough {
  animation: zoomThrough 2s ease-in-out forwards;
}

/* Animations for Sparkle/Dust Elements */
.sparklesContainer {
  /* Container for positioning if needed, or just for grouping */
}

@keyframes sparkleAnim {
  0%, 100% { 
    opacity: 0; 
    transform: scale(0.5) rotate(0deg); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.2) rotate(180deg); 
  }
}

@keyframes swirlAnim {
  0% { 
    opacity: 0; 
    transform: translateY(5px) rotate(0deg) scale(0.8); 
  }
  50% { 
    opacity: 0.7; 
    transform: translateY(0px) rotate(180deg) scale(1.2); 
  }
  100% { 
    opacity: 0; 
    transform: translateY(-5px) rotate(360deg) scale(0.8); 
  }
}

/* Sparkle animations with different timing */
.sparkle1 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.2s forwards, sparkleAnim 2s ease-in-out 0.2s infinite;
}

.sparkle2 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.4s forwards, sparkleAnim 2s ease-in-out 0.4s infinite;
}

.sparkle3 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.1s forwards, sparkleAnim 2s ease-in-out 0.1s infinite;
}

.sparkle4 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.7s forwards, sparkleAnim 2s ease-in-out 0.7s infinite;
}

.sparkle5 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.5s forwards, sparkleAnim 2s ease-in-out 0.5s infinite;
}

.sparkle6 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.3s forwards, sparkleAnim 2s ease-in-out 0.3s infinite;
}

.sparkle7 {
  opacity: 0;
  animation: drawPath 1.5s ease-in-out 0.6s forwards, sparkleAnim 2s ease-in-out 0.6s infinite;
}

.swirl {
  opacity: 0;
  animation: drawPath 2s ease-in-out forwards, swirlAnim 3s ease-in-out infinite;
}

.swirl2 {
  opacity: 0;
  animation: drawPath 2s ease-in-out 0.3s forwards, swirlAnim 3s ease-in-out 0.3s infinite;
}

.swirl3 {
  opacity: 0;
  animation: drawPath 2s ease-in-out 0.6s forwards, swirlAnim 3s ease-in-out 0.6s infinite;
}

/* Pause all animations when paused class is applied */
.paused {
  animation-play-state: paused !important;
}

/* Also pause all child animations */
.paused .bookLeftCover,
.paused .bookRightCover,
.paused .bookPage,
.paused .pageLines,
.paused .sparkle1,
.paused .sparkle2,
.paused .sparkle3,
.paused .sparkle4,
.paused .sparkle5,
.paused .sparkle6,
.paused .sparkle7,
.paused .swirl,
.paused .swirl2,
.paused .swirl3,
.paused .decorativeBorder,
.paused .cornerFlourish,
.paused .decorativeSymbol,
.paused .decorativeSwirl {
  animation-play-state: paused !important;
  transition: none !important;
}

/* Page rolling animation */
.bookPageRolling {
  animation: rollPage 1s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
}

@keyframes rollPage {
  0% {
    transform: perspective(1500px) rotateY(0deg) translateZ(0);
    opacity: 0.8;
  }
  50% {
    transform: perspective(1500px) rotateY(-60deg) translateZ(20px);
    opacity: 1;
  }
  100% {
    transform: perspective(1500px) rotateY(-95deg) translateZ(30px);
    opacity: 0;
  }
}

@keyframes progressGlow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
  }
  50% {
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
  }
}

.progressBar {
  background: linear-gradient(90deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0.1) 100%);
  animation: progressGlow 2s ease-in-out infinite;
  border-radius: 2px;
}

/* Stop all animations when paused */
.paused * {
  animation-play-state: paused !important;
  transition: none !important;
}

/* Final transition effect */
.transitioning {
  animation: transitionOut 0.5s ease-out forwards;
}

@keyframes transitionOut {
  0% {
    opacity: 1;
    transform: scale(15) translateZ(0);
    filter: blur(0);
  }
  50% {
    opacity: 0.5;
    transform: scale(20) translateZ(0);
    filter: blur(3px);
  }
  100% {
    opacity: 0;
    transform: scale(25) translateZ(0);
    filter: blur(10px);
  }
}

/* Book spine styles */
.bookSpine {
  transition: transform 1.5s cubic-bezier(0.645, 0.045, 0.355, 1);
  transform-origin: 50% 50%;
}

/* Removed styles for spine text */

/* Decorative elements styles */
.decorativeBorder {
  opacity: 0;
  transition: opacity 1.5s ease-in-out;
  animation: drawPath 2s ease-in-out 0.5s forwards;
}

.cornerFlourish {
  opacity: 0;
  transition: opacity 1.5s ease-in-out;
  animation: drawPath 1.5s ease-in-out 0.8s forwards;
}

.decorativeSymbol {
  opacity: 0;
  transition: opacity 1.5s ease-in-out, transform 1.5s ease-in-out;
  animation: drawPath 2s ease-in-out 1s forwards, fadeIn 2s ease-in-out 1s forwards;
}

.decorativeSwirl {
  opacity: 0;
  transition: opacity 1.5s ease-in-out, transform 1.5s ease-in-out;
  animation: swirlFadeIn 2.5s ease-in-out 0.5s forwards;
}

@keyframes swirlFadeIn {
  0% {
    opacity: 0;
    stroke-dashoffset: 100;
    transform: rotate(0deg);
  }
  50% {
    opacity: 0.5;
    stroke-dashoffset: 50;
    transform: rotate(5deg);
  }
  100% {
    opacity: 1;
    stroke-dashoffset: 0;
    transform: rotate(0deg);
  }
}

/* Animation for cover opening with decorative elements revealed */
.bookLeftCoverOpen .decorativeBorder,
.bookLeftCoverOpen .cornerFlourish,
.bookLeftCoverOpen .decorativeSymbol,
.bookRightCoverOpen .decorativeBorder,
.bookRightCoverOpen .cornerFlourish,
.bookRightCoverOpen .decorativeSymbol,
.bookRightCoverOpen .decorativeSwirl {
  opacity: 1;
}

/* Page styles for improved visual effect */
.pagesContainer {
  transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
}

/* Page content line styles */
.pageLines line {
  opacity: 0;
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: drawLine 1s ease-in-out forwards;
}

@keyframes drawLine {
  to {
    opacity: 0.8;
    stroke-dashoffset: 0;
  }
}

/* Sparkles container path animation */
.sparklesContainer path {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  opacity: 0;
}

@keyframes drawPath {
  to {
    opacity: 1;
    stroke-dashoffset: 0;
  }
} 